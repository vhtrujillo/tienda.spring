<!DOCTYPE html>
<html ng-app="appProducto">
<head>
	<meta charset="ISO-8859-1">
	<title>Web Carrito</title>
	<!-- js -->
	<script src="js/angular/angular.min.js"></script>
	<script src="js/bootstrap-ui/ui-bootstrap-tpls-2.5.0.js"></script>
	<script src="js/models/core.js"></script>
	<script src="js/models/producto.js"></script>
	<!-- CSS -->
	<link rel="stylesheet" href="css/bootstrap-ui/ui-bootstrap-2.5.0-csp.css">
	<link rel='stylesheet prefetch' href='css/bootstrap.min.css'>
	<link rel='stylesheet prefetch' href='css/bootstrap-theme.min.css'>
	<!-- <link rel='stylesheet prefetch' href='css/bootstrapValidator.min.css'> -->
	<link rel="stylesheet" href="css/style.css">
</head>
<body ng-controller="productoController" ng-init="verProductos();">

<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="nav-brand">
				<!--<img alt="producto" >-->
			</a>
		</div>
		<div class="navbar-header pull-right">
		</div>
	</div>
</nav>

	<div class="row"> 
	<button class="btn btn-success" ng-show="verAccion(1);" ng-click="hacerAccion(0)">Ver productos</button>
	<button class="btn btn-success" ng-show="verAccion(0);" ng-click="hacerAccion(1)">Agregar productos</button>
	
	
<!-- 	" ng-click="hacerAccion(0)" cambia la variable para mostrar el accion a poner -->
		<div class="col-md-4"></div>
		<div class="col-md-4">
			<form ng-show="verAccion(1);">
			<h1>Agregar Productos</h1>
				  <div class="form-group">
				    <label>Nombre</label>
				    <input type="text"  ng-model="producto.nombre" class="form-control" >
				  </div>
				  <div class="form-group">
				    <label>Precio</label>
				    <input type="text"  ng-model="producto.precio" class="form-control" >
				  </div>
			 	 <button type="button" class="btn btn-success" ng-click="guardarProducto(producto)">Guardar</button>
			</form>
			<table class="table" ng-show="verAccion(0);"><!-- segun la accion lo va a mostrar, esto para poder tener todo en una sola pagina -->
				<thead>	
					<tr>
					    <th>id</th>
						<th>Nombre</th>
						<th>Precio</th>
						<th>Accion</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="producto in productos">
					    <td>{{producto.idProducto}}</td>
						<td>{{producto.nombre}}</td>
						<td>{{producto.precio}}</td>
						<td>
						<button type="button" class="btn btn-danger" ng-click="eliminarProducto(producto);">Eliminar</button>
						<button type="button" class="btn btn-success" ng-show="verAccion(0);" ng-click="obtener(producto);">Actualizar</button>
						</td>
<!-- 						asi no muestras el id, pero te respesta al enviar todo el objeto -->
					</tr>
				</tbody>
			</table>
			<!-- Actualizar producto -->
			
			<form ng-show="verAccion(2);">
			
				  <div class="form-group">
				  <button class="btn btn-warning" ng-show="verAccion(2);" ng-click="hacerAccion(0)">Regresar a la tabla para ver productos</button>
				  <br />
				  <h1>Actualizar Productos</h1>
				    <label>Nombre:</label>
				    <input type="text"  ng-model="producto.nombre" text="{{producto.nombre}}" class="form-control" />
				  </div>
				  <div class="form-group">
				    <label>Precio:</label>
				    <input type="text"  ng-model="producto.precio" text="{{producto.precio}}" class="form-control" />
				  </div>
			     <div class="col-md-2">
			     <button type="button" class="btn btn-success" ng-click="actualizarProducto(producto);">Actualizar</button>
			     </div>
			</form>
			<!-- Actualizar producto -->
		</div>
		<div class="col-md-4"></div>	
	</div>

</body >
</html>